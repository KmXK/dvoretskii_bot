# –ö–∞–∑–∏–Ω–æ ‚Äî –≠–∫–æ–Ω–æ–º–∏–∫–∞, –≤–µ—Å–∞, –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ

## –í–∞–ª—é—Ç–∞

**–û–±–µ–∑—å—è–Ω–∫–∏** üêµ ‚Äî –≤–Ω—É—Ç—Ä–∏–∏–≥—Ä–æ–≤–∞—è –≤–∞–ª—é—Ç–∞ –∫–∞–∑–∏–Ω–æ-—Ä–∞–∑–¥–µ–ª–∞.

- –ù–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –Ω–æ–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞: **100 –æ–±–µ–∑—å—è–Ω–æ–∫**
- –ë–∞–ª–∞–Ω—Å —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ë–î –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–ø–æ–ª–µ `User.monkeys`)
- –ë–∞–ª–∞–Ω—Å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤–≤–µ—Ä—Ö—É —ç–∫—Ä–∞–Ω–∞ –∫–∞–∑–∏–Ω–æ –∏ –≤ –∫–æ–º–∞–Ω–¥–µ `/me`

## –î–Ω–µ–≤–Ω–æ–π –±–æ–Ω—É—Å

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---|---|
| –†–∞–∑–º–µ—Ä –±–æ–Ω—É—Å–∞ | 50 üêµ |
| –ö—É–ª–¥–∞—É–Ω | 24 —á–∞—Å–∞ |
| –ú–µ—Ö–∞–Ω–∏–∫–∞ | –ù–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ (–ù–ï –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏) |
| –•—Ä–∞–Ω–µ–Ω–∏–µ | `User.casino_last_bonus` timestamp –≤ –ë–î |

50 –æ–±–µ–∑—å—è–Ω–æ–∫ = 5 —Å–ø–∏–Ω–æ–≤ –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–µ. –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –∫–æ—Ä–æ—Ç–∫–æ–π —Å–µ—Å—Å–∏–∏, –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.

## –û–¥–Ω–æ—Ä—É–∫–∏–π –±–∞–Ω–¥–∏—Ç (3 –±–∞—Ä–∞–±–∞–Ω–∞)

### –°–∏–º–≤–æ–ª—ã –∏ –≤–µ—Å–∞

| –°–∏–º–≤–æ–ª | –í–µ—Å –Ω–∞ –±–∞—Ä–∞–±–∞–Ω–µ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å |
|---|---|---|
| üçí –í–∏—à–Ω—è | 30 | 30% |
| üçã –õ–∏–º–æ–Ω | 25 | 25% |
| üîî –ö–æ–ª–æ–∫–æ–ª | 20 | 20% |
| ‚≠ê –ó–≤–µ–∑–¥–∞ | 13 | 13% |
| üíé –ê–ª–º–∞–∑ | 8 | 8% |
| 7Ô∏è‚É£ –°–µ–º—ë—Ä–∫–∞ | 4 | 4% |

–ß–µ–º —Ä–µ–∂–µ —Å–∏–º–≤–æ–ª, —Ç–µ–º –≤—ã—à–µ –≤—ã–ø–ª–∞—Ç–∞. –í–∏—à–Ω—è –≤—ã–ø–∞–¥–∞–µ—Ç —á–∞—â–µ –≤—Å–µ–≥–æ, —Å–µ–º—ë—Ä–∫–∞ ‚Äî —Ä–µ–∂–µ –≤—Å–µ–≥–æ.

### –¢–∞–±–ª–∏—Ü–∞ –≤—ã–ø–ª–∞—Ç (—Å—Ç–∞–≤–∫–∞ 10 üêµ)

| –ö–æ–º–±–∏–Ω–∞—Ü–∏—è | –í—ã–ø–ª–∞—Ç–∞ | –ú–Ω–æ–∂–∏—Ç–µ–ª—å |
|---|---|---|
| 3x üçí | 80 üêµ | x8 |
| 3x üçã | 120 üêµ | x12 |
| 3x üîî | 200 üêµ | x20 |
| 3x ‚≠ê | 350 üêµ | x35 |
| 3x üíé | 700 üêµ | x70 |
| 3x 7Ô∏è‚É£ | 1500 üêµ | x150 |
| –õ—é–±–∞—è –ø–∞—Ä–∞ | 5 üêµ | x0.5 |

### –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ RTP

```
P(triple üçí) = 0.30¬≥ = 0.027     ‚Üí  EV = 2.16
P(triple üçã) = 0.25¬≥ = 0.01563   ‚Üí  EV = 1.875
P(triple üîî) = 0.20¬≥ = 0.008     ‚Üí  EV = 1.6
P(triple ‚≠ê) = 0.13¬≥ = 0.0022    ‚Üí  EV = 0.77
P(triple üíé) = 0.08¬≥ = 0.000512  ‚Üí  EV = 0.358
P(triple 7Ô∏è‚É£) = 0.04¬≥ = 0.000064  ‚Üí  EV = 0.096

Œ£ EV(triples) = 6.86

P(–ª—é–±–∞—è –ø–∞—Ä–∞, –±–µ–∑ —Ç—Ä–æ–π–∫–∏) ‚âà 0.49  ‚Üí  EV = 2.46

–û–±—â–∏–π EV = 6.86 + 2.46 = 9.32
RTP = 9.32 / 10 = 93.2%
```

RTP ~93% ‚Äî —â–µ–¥—Ä–æ –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –∫–∞–∑–∏–Ω–æ. –ò–≥—Ä–æ–∫ —Å –¥–Ω–µ–≤–Ω—ã–º –±–æ–Ω—É—Å–æ–º (50 üêµ) —Ç–µ—Ä—è–µ—Ç –≤ —Å—Ä–µ–¥–Ω–µ–º ~3.5 –∑–∞ —Å–µ—Å—Å–∏—é, –±–∞–ª–∞–Ω—Å –∫–æ–ø–∏—Ç—Å—è. –ü–∞—Ä—ã –≤—ã–ø–∞–¥–∞—é—Ç —á–∞—Å—Ç–æ (~49% —Å–ø–∏–Ω–æ–≤), —Ç—Ä–æ–π–∫–∏ ‚Äî ~5.4%.

## –ú–æ–Ω–µ—Ç–∫–∞ ü™ô

- –°—Ç–∞–≤–∫–∞ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –∏–≥—Ä–æ–∫–æ–º (5, 10, 25, 50)
- –í—ã–±–æ—Ä: –û—Ä—ë–ª (ü¶Ö) –∏–ª–∏ –†–µ—à–∫–∞ (üåô)
- –í—ã–∏–≥—Ä—ã—à: x1.9 —Å—Ç–∞–≤–∫–∏ (RTP 95%)
- –ê–Ω–∏–º–∞—Ü–∏—è: 3D-–≤—Ä–∞—â–µ–Ω–∏–µ –º–æ–Ω–µ—Ç—ã (rotateX)
- –ë—ã—Å—Ç—Ä–∞—è –∏–≥—Ä–∞ ~1.5 —Å–µ–∫

## –†—É–ª–µ—Ç–∫–∞ üé°

–ï–≤—Ä–æ–ø–µ–π—Å–∫–∞—è —Ä—É–ª–µ—Ç–∫–∞, 37 —Å–µ–∫—Ç–æ—Ä–æ–≤ (0-36).

| –¢–∏–ø —Å—Ç–∞–≤–∫–∏ | –ú–Ω–æ–∂–∏—Ç–µ–ª—å | RTP |
|---|---|---|
| –¶–≤–µ—Ç (–∫—Ä–∞—Å–Ω–æ–µ/—á—ë—Ä–Ω–æ–µ) | √ó2 | 97.3% |
| –ß—ë—Ç/–ù–µ—á—ë—Ç | √ó2 | 97.3% |
| –ü–æ–ª–æ–≤–∏–Ω–∞ (1-18 / 19-36) | √ó2 | 97.3% |
| –î—é–∂–∏–Ω–∞ (1-12 / 13-24 / 25-36) | √ó3 | 97.3% |
| –ß–∏—Å–ª–æ (0-36) | √ó36 | 97.3% |

–ê–Ω–∏–º–∞—Ü–∏—è: SVG-–∫–æ–ª–µ—Å–æ —Å 37 —Å–µ–∫—Ç–æ—Ä–∞–º–∏ (—Ä–µ–∞–ª—å–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –µ–≤—Ä–æ–ø–µ–π—Å–∫–æ–π —Ä—É–ª–µ—Ç–∫–∏). –ö–æ–ª–µ—Å–æ –≤—Ä–∞—â–∞–µ—Ç—Å—è 4.5 —Å–µ–∫ —Å easing, –±–µ–ª—ã–π —à–∞—Ä–∏–∫ –æ—Ä–±–∏—Ç–∞–ª—å–Ω–æ –∫—Ä—É—Ç–∏—Ç—Å—è –≤ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É. –£–∫–∞–∑–∞—Ç–µ–ª—å (–∑–æ–ª–æ—Ç–æ–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫) —Å–≤–µ—Ä—Ö—É. –ü–æ—Å–ª–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å —Ü–≤–µ—Ç–æ–º —á–∏—Å–ª–∞.

## –°–ª–æ—Ç—ã 5√ó5 üé≤

5 –±–∞—Ä–∞–±–∞–Ω–æ–≤ √ó 5 —Ä—è–¥–æ–≤. –°—Ç–∞–≤–∫–∞: 10 üêµ –∑–∞ —Å–ø–∏–Ω.

### –¢–∏–ø—ã –≤—ã–∏–≥—Ä—ã—à–µ–π

| –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|
| ‚Üî –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ | 5 —Ä—è–¥–æ–≤, —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è 3+ —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ |
| ‚Üï –í–µ—Ä—Ç–∏–∫–∞–ª–∏ | 5 –∫–æ–ª–æ–Ω–æ–∫, —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è 3+ —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑ |
| ‚Üò‚Üô –î–∏–∞–≥–æ–Ω–∞–ª–∏ | 2 –≥–ª–∞–≤–Ω—ã–µ –¥–∏–∞–≥–æ–Ω–∞–ª–∏ (5 –∫–ª–µ—Ç–æ–∫) |
| –ö–ª–∞—Å—Ç–µ—Ä—ã | 5+ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤, –∫–∞—Å–∞—é—â–∏—Ö—Å—è –¥—Ä—É–≥ –¥—Ä—É–≥–∞ (‚Üë‚Üì‚Üê‚Üí) |

### –°–∏–º–≤–æ–ª—ã –∏ –≤—ã–ø–ª–∞—Ç—ã

| –°–∏–º–≤–æ–ª | –í–µ—Å | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | 3 —Å–æ–≤–ø. | 4 —Å–æ–≤–ø. | 5 —Å–æ–≤–ø. |
|---|---|---|---|---|---|
| üçá | 32 | 32% | 2 | 6 | 20 |
| üçä | 26 | 26% | 3 | 10 | 35 |
| üçâ | 20 | 20% | 5 | 15 | 50 |
| üîî | 11 | 11% | 8 | 25 | 80 |
| ‚≠ê | 6 | 6% | 12 | 40 | 130 |
| üíé | 3 | 3% | 20 | 65 | 220 |
| üêµ (wild) | 2 | 2% | 10 | 30 | 100 |

üêµ ‚Äî wild-—Å–∏–º–≤–æ–ª, –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤–º–µ—Å—Ç–æ –ª—é–±–æ–≥–æ –¥—Ä—É–≥–æ–≥–æ –≤ –ª–∏–Ω–µ–π–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏—è—Ö. –î–ª—è –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ wilds –Ω–µ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è.

### –ö–ª–∞—Å—Ç–µ—Ä–Ω—ã–µ –≤—ã–ø–ª–∞—Ç—ã

| –†–∞–∑–º–µ—Ä –∫–ª–∞—Å—Ç–µ—Ä–∞ | –í—ã–ø–ª–∞—Ç–∞ |
|---|---|
| 6 –∫–ª–µ—Ç–æ–∫ | = –≤—ã–ø–ª–∞—Ç–∞ –∑–∞ 3 —Å–æ–≤–ø. |
| 7-8 –∫–ª–µ—Ç–æ–∫ | = –≤—ã–ø–ª–∞—Ç–∞ –∑–∞ 4 —Å–æ–≤–ø. |
| 9+ –∫–ª–µ—Ç–æ–∫ | = –≤—ã–ø–ª–∞—Ç–∞ –∑–∞ 5 —Å–æ–≤–ø. |

–í—Å–µ —Ç–∏–ø—ã –≤—ã–∏–≥—Ä—ã—à–µ–π —Å—É–º–º–∏—Ä—É—é—Ç—Å—è (–æ–¥–Ω–∞ –∫–ª–µ—Ç–∫–∞ –º–æ–∂–µ—Ç —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤—ã–∏–≥—Ä—ã—à–∞—Ö).

–ê–Ω–∏–º–∞—Ü–∏—è: –∫–æ–ª–æ–Ω–∫–∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∫–∞—Å–∫–∞–¥–Ω–æ —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º 300–º—Å. –í—ã–∏–≥—Ä—ã—à–Ω—ã–µ –∫–ª–µ—Ç–∫–∏ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—é—Ç—Å—è –∂—ë–ª—Ç—ã–º —Å –ø—É–ª—å—Å–∞—Ü–∏–µ–π.

## –†–∞–∫–µ—Ç–∫–∞ üöÄ (Crash Game)

–ö—Ä–∞—à-–∏–≥—Ä–∞ —Å –æ–±—â–∏–º —Å—Ç—Ä–∏–º–æ–º —Ä–∞—É–Ω–¥–æ–≤ –¥–ª—è –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤.

### –ú–µ—Ö–∞–Ω–∏–∫–∞

- –†–∞—É–Ω–¥—ã –∏–¥—É—Ç –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (15 —Å–µ–∫ —Ü–∏–∫–ª), –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ UTC-—á–∞—Å–∞–º
- –í—Å–µ –∏–≥—Ä–æ–∫–∏ –≤–∏–¥—è—Ç –æ–¥–Ω—É –∏ —Ç—É –∂–µ —Ä–∞–∫–µ—Ç—É (shared state —á–µ—Ä–µ–∑ seed + round number)
- –°—Ç–∞–≤–∫–∞ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –∏–≥—Ä–æ–∫–æ–º: 5, 10, 25, 50 üêµ
- –§–∞–∑—ã —Ä–∞—É–Ω–¥–∞: **–°—Ç–∞–≤–∫–∏ (3—Å)** ‚Üí **–ü–æ–ª—ë—Ç (–¥–æ 9—Å)** ‚Üí **–†–µ–∑—É–ª—å—Ç–∞—Ç (3—Å –ø–æ—Å–ª–µ –∫—Ä–∞—à–∞)**
- –ú–Ω–æ–∂–∏—Ç–µ–ª—å —Ä–∞—Å—Ç—ë—Ç —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ: `mult = e^(0.0005 √ó t_ms)`
- –ò–≥—Ä–æ–∫ –¥–æ–ª–∂–µ–Ω –Ω–∞–∂–∞—Ç—å ¬´–ó–∞–±—Ä–∞—Ç—å¬ª –¥–æ –∫—Ä–∞—à–∞
- –ï—Å–ª–∏ –∑–∞–±—Ä–∞–ª ‚Äî –≤—ã–∏–≥—Ä—ã—à = —Å—Ç–∞–≤–∫–∞ √ó –º–Ω–æ–∂–∏—Ç–µ–ª—å
- –ï—Å–ª–∏ –Ω–µ —É—Å–ø–µ–ª ‚Äî —Å—Ç–∞–≤–∫–∞ —Å–≥–æ—Ä–∞–µ—Ç

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è crash point

```
hash_check = cyrb53(seed + ":" + round + ":c")
if hash_check % 25 == 0:    ‚Üí crash = 1.00x (–º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –∫—Ä–∞—à, ~4%)

hash = cyrb53(seed + ":" + round)
u = hash / 2^53
crash_point = min(100, max(1.01, floor(1 / (1-u) √ó 100) / 100))
```

- Seed –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å–µ—Ä–≤–µ—Ä–æ–º (`HMAC(SHA256, bot_token, period)`)
- Seed —Ä–æ—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 4 —á–∞—Å–∞
- –í—Å–µ –∫–ª–∏–µ–Ω—Ç—ã —Å –æ–¥–Ω–∏–º seed –ø–æ–ª—É—á–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ crash points

### –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ RTP

```
~4% —Ä–∞—É–Ω–¥–æ–≤ ‚Äî –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –∫—Ä–∞—à (x1.00), —Å—Ç–∞–≤–∫–∞ —Å–≥–æ—Ä–∞–µ—Ç
96% —Ä–∞—É–Ω–¥–æ–≤ ‚Äî crash_point = 1/(1-U), U uniform

P(–≤—ã–∂–∏—Ç—å –¥–æ –º–Ω–æ–∂–∏—Ç–µ–ª—è m) = 0.96 / m
EV –ø—Ä–∏ –∫–µ—à–∞—É—Ç–µ –Ω–∞ m: 0.96/m √ó m = 0.96
RTP = 96%
```

### –°–∫—Ä—ã—Ç–∏–µ latency

| –ú–æ–º–µ–Ω—Ç | –†–µ—à–µ–Ω–∏–µ |
|---|---|
| –í—Ö–æ–¥ –≤ –∏–≥—Ä—É | –ê–Ω–∏–º–∞—Ü–∏—è ¬´–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –æ—Ä–±–∏—Ç–µ¬ª (1.5—Å –º–∏–Ω) —Å–∫—Ä—ã–≤–∞–µ—Ç fetch seed |
| Cashout | Optimistic UI ‚Äî –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –æ—Ç–∫–ª–∏–∫, —Å–µ—Ä–≤–µ—Ä —É–≤–µ–¥–æ–º–ª—è–µ—Ç—Å—è —Ñ–æ–Ω–æ–º |
| –û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ | –í–æ –≤—Ä–µ–º—è betting-—Ñ–∞–∑—ã —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ä–∞—É–Ω–¥–∞ (5 —Å–µ–∫ –±—É—Ñ–µ—Ä) |
| –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è | `serverTime - Date.now()` offset –ø—Ä–∏ init |

### –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---|---|
| RTP | ~96% |
| House edge | ~4% (–º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –∫—Ä–∞—à–∏) |
| –ú–∞–∫—Å. –º–Ω–æ–∂–∏—Ç–µ–ª—å | √ó100 |
| –ú–∞–∫—Å. —Å—Ç–∞–≤–∫–∞ | 50 üêµ |
| –ú–∞–∫—Å. –≤—ã–∏–≥—Ä—ã—à | 5000 üêµ |
| –¶–∏–∫–ª —Ä–∞—É–Ω–¥–∞ | –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–π (betting + flight + 3—Å post-crash) |
| –§–∞–∑–∞ —Å—Ç–∞–≤–æ–∫ | 3 —Å–µ–∫ |
| Post-crash | 3 —Å–µ–∫ |
| –ú–∞–∫—Å. –ø–æ–ª—ë—Ç | 9 —Å–µ–∫ |

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞

| –ò–≥—Ä–∞ | –ì—Ä–∞–¥–∏–µ–Ω—Ç |
|---|---|
| –†–∞–∫–µ—Ç–∫–∞ | orange ‚Üí red ‚Üí rose |

### –ó–≤—É–∫–∏

| –ó–≤—É–∫ | –ö–æ–≥–¥–∞ |
|---|---|
| `rocketLaunch` | –ù–∞—á–∞–ª–æ –ø–æ–ª—ë—Ç–∞ (rumble + whoosh + rising tones) |
| `rocketCrash` | –í–∑—Ä—ã–≤ —Ä–∞–∫–µ—Ç—ã (kicks + noise + descending sweeps) |
| `win` / `bigWin` | –£—Å–ø–µ—à–Ω—ã–π cashout |
| `lose` | –ü—Ä–æ–∏–≥—Ä—ã—à (–Ω–µ —É—Å–ø–µ–ª –∑–∞–±—Ä–∞—Ç—å) |
| `tick` | –†–∞–∑–º–µ—â–µ–Ω–∏–µ —Å—Ç–∞–≤–∫–∏ |

### API

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|---|
| `GET` | `/api/casino/rocket/init` | Seed + serverTime + balance (—Ç—Ä–µ–±—É–µ—Ç casino_sid cookie) |
| `POST` | `/api/casino/event` | –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞—É–Ω–¥–∞: `{game: "rocket", bet, win, token}` |

## –°–∫–∞—á–∫–∏ –æ–±–µ–∑—å—è–Ω–æ–∫ üèÅ

–ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä–Ω—ã–µ —Å–∫–∞—á–∫–∏ —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∑–∞–±–µ–≥–∞–º–∏. –í—Å–µ –∏–≥—Ä–æ–∫–∏ –≤–∏–¥—è—Ç –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ —Ä–∞—É–Ω–¥—ã –∏ —Å—Ç–∞–≤–∫–∏ –¥—Ä—É–≥ –¥—Ä—É–≥–∞.

### –û–±–µ–∑—å—è–Ω–∫–∏-—É—á–∞—Å—Ç–Ω–∏–∫–∏

| # | –ò–º—è | –≠–º–æ–¥–∑–∏ | –í–µ—Å | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –ú–Ω–æ–∂–∏—Ç–µ–ª—å |
|---|---|---|---|---|---|
| 0 | –ë–∞–Ω–∞–Ω—á–∏–∫ | üçå | 30 | 30% | √ó2.8 |
| 1 | –ö–æ–∫–æ—Å | ü•• | 25 | 25% | √ó3.4 |
| 2 | –®–∏–º–ø–∞ | üêí | 20 | 20% | √ó4.2 |
| 3 | –ì–æ—Ä–∏–ª–ª–∞ | ü¶ç | 13 | 13% | √ó6.5 |
| 4 | –ú–∞–Ω–¥–∞—Ä–∏–Ω | üçä | 8 | 8% | √ó10 |
| 5 | –ö–∏–Ω–≥-–ö–æ–Ω–≥ | üëë | 4 | 4% | √ó20 |

### –¢–∞–π–º–∏–Ω–≥ —Ä–∞—É–Ω–¥–∞ (22 —Å–µ–∫—É–Ω–¥—ã)

| –§–∞–∑–∞ | –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|---|
| –°—Ç–∞–≤–∫–∏ | 12—Å | –ò–≥—Ä–æ–∫ –≤—ã–±–∏—Ä–∞–µ—Ç –æ–±–µ–∑—å—è–Ω–∫—É –∏ —Ä–∞–∑–º–µ—Ä —Å—Ç–∞–≤–∫–∏ |
| –ó–∞–±–µ–≥ | 5—Å | –ê–Ω–∏–º–∞—Ü–∏—è –≥–æ–Ω–∫–∏, –ø–æ–±–µ–¥–∏—Ç–µ–ª—å –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª—ë–Ω |
| –†–µ–∑—É–ª—å—Ç–∞—Ç | 5—Å | –ü–æ–∫–∞–∑ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è, –≤—ã–ø–ª–∞—Ç—ã, –æ–±—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—á—ë—Ç |

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

- –†–∞—É–Ω–¥—ã –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ UTC-—á–∞—Å–∞–º (–∫–∞–∫ —Ä–∞–∫–µ—Ç–∫–∞): `round = floor(elapsed / 22s)`
- Seed = `SHA256("race:" + BOT_TOKEN + ":" + period)`, —Ä–æ—Ç–∞—Ü–∏—è –∫–∞–∂–¥—ã–µ 4 —á–∞—Å–∞
- –ü–æ–±–µ–¥–∏—Ç–µ–ª—å –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω: `cyrb53(seed + ":" + round + ":race") % 100` ‚Üí weighted selection
- –í—Å–µ –∫–ª–∏–µ–Ω—Ç—ã –≤—ã—á–∏—Å–ª—è—é—Ç –æ–¥–Ω–æ–≥–æ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è

### –ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä

- –°—Ç–∞–≤–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (`_race_bets`)
- –ö–ª–∏–µ–Ω—Ç—ã –ø–æ–ª–ª—è—Ç `GET /race/bets` –∫–∞–∂–¥—ã–µ 2.5—Å –≤–æ –≤—Ä–µ–º—è —Ñ–∞–∑—ã —Å—Ç–∞–≤–æ–∫
- –í—Å–µ –∏–≥—Ä–æ–∫–∏ –≤–∏–¥—è—Ç —Å—Ç–∞–≤–∫–∏ –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –û–¥–Ω–∞ —Å—Ç–∞–≤–∫–∞ –Ω–∞ –∏–≥—Ä–æ–∫–∞ –∑–∞ —Ä–∞—É–Ω–¥

### –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ RTP

```
EV(–ë–∞–Ω–∞–Ω—á–∏–∫) = 0.30 √ó 2.8 = 0.84
EV(–ö–æ–∫–æ—Å)    = 0.25 √ó 3.4 = 0.85
EV(–®–∏–º–ø–∞)    = 0.20 √ó 4.2 = 0.84
EV(–ì–æ—Ä–∏–ª–ª–∞)  = 0.13 √ó 6.5 = 0.845
EV(–ú–∞–Ω–¥–∞—Ä–∏–Ω) = 0.08 √ó 10  = 0.80
EV(–ö–∏–Ω–≥-–ö–æ–Ω–≥)= 0.04 √ó 20  = 0.80

RTP ‚âà 80‚Äì85% (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤—ã–±–æ—Ä–∞ –æ–±–µ–∑—å—è–Ω–∫–∏)
```

### Settlement

–°–µ—Ä–≤–µ—Ä–Ω—ã–π (–Ω–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π). –°–µ—Ä–≤–µ—Ä —Å–ø–∏—Å—ã–≤–∞–µ—Ç –±–∞–ª–∞–Ω—Å –ø—Ä–∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏–∏ —Å—Ç–∞–≤–∫–∏ –∏ –∫—Ä–µ–¥–∏—Ç—É–µ—Ç –≤—ã–∏–≥—Ä—ã—à –ø—Ä–∏ lazy settlement (–ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—Ä–æ—Å–µ –∫ race-—ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º).

### API

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|---|
| `GET` | `/api/casino/race/init` | Seed + serverTime + balance |
| `POST` | `/api/casino/race/bet` | `{monkeyIdx, amount}` ‚Üí –≤–∞–ª–∏–¥–∞—Ü–∏—è ‚Üí —Å–ø–∏—Å–∞–Ω–∏–µ ‚Üí `{ok, bets}` |
| `GET` | `/api/casino/race/bets` | `{round, phase, bets, monkeys}` + lazy settlement |

### –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---|---|
| RTP | ~80‚Äì85% |
| –ú–∞–∫—Å. —Å—Ç–∞–≤–∫–∞ | 50 üêµ |
| –ú–∞–∫—Å. –≤—ã–∏–≥—Ä—ã—à | 1000 üêµ (50 √ó 20) |
| –¶–∏–∫–ª —Ä–∞—É–Ω–¥–∞ | 22—Å (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π) |
| –°—Ç–∞–≤–∫–∏ –Ω–∞ —Ä–∞—É–Ω–¥ | 1 –Ω–∞ –∏–≥—Ä–æ–∫–∞ |

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞

| –ò–≥—Ä–∞ | –ì—Ä–∞–¥–∏–µ–Ω—Ç |
|---|---|
| –°–∫–∞—á–∫–∏ | green ‚Üí emerald ‚Üí lime |

### –ó–≤—É–∫–∏

| –ó–≤—É–∫ | –ö–æ–≥–¥–∞ |
|---|---|
| `raceStart` | –ù–∞—á–∞–ª–æ –∑–∞–±–µ–≥–∞ (kick + sharp tones) |
| `win` / `bigWin` | –£–≥–∞–¥–∞–ª –ø–æ–±–µ–¥–∏—Ç–µ–ª—è |
| `lose` | –ù–µ —É–≥–∞–¥–∞–ª |
| `tick` | –†–∞–∑–º–µ—â–µ–Ω–∏–µ —Å—Ç–∞–≤–∫–∏ |

## –ú–µ—Ö–∞–Ω–∏–∫–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–µ–∑—å—è–Ω–æ–∫

| –ú–µ—Ö–∞–Ω–∏–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|---|---|
| –î–Ω–µ–≤–Ω–æ–π –±–æ–Ω—É—Å | 50 üêµ —Ä–∞–∑ –≤ —Å—É—Ç–∫–∏ –ø–æ –∫–Ω–æ–ø–∫–µ | ‚úÖ |
| –í—ã–∏–≥—Ä—ã—à–∏ –≤ –∏–≥—Ä–∞—Ö | –°–ª–æ—Ç—ã, –ø–æ–∫–µ—Ä –∏ —Ç.–¥. | ‚úÖ |
| –°–µ—Ä–∏—è –≤—Ö–æ–¥–æ–≤ (streak) | –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π –±–æ–Ω—É—Å –∑–∞ N –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥ | üí° |
| –ö–≤–µ—Å—Ç—ã / –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è | –ó–∞–¥–∞–Ω–∏—è —Ç–∏–ø–∞ "—Å—ã–≥—Ä–∞–π 10 —Ä–∞–∑" –∑–∞ –Ω–∞–≥—Ä–∞–¥—É | üí° |
| –ü–æ–¥–∞—Ä–∫–∏ –æ—Ç –¥—Ä—É–∑–µ–π | –ü–µ—Ä–µ–≤–æ–¥ –æ–±–µ–∑—å—è–Ω–æ–∫ –º–µ–∂–¥—É –∏–≥—Ä–æ–∫–∞–º–∏ | üí° |
| –õ–∏–¥–µ—Ä–±–æ—Ä–¥ | –ù–∞–≥—Ä–∞–¥—ã –∑–∞ —Ç–æ–ø-–ø–æ–∑–∏—Ü–∏–∏ –∑–∞ –Ω–µ–¥–µ–ª—é/–º–µ—Å—è—Ü | üí° |

## –ú–µ—Ö–∞–Ω–∏–∫–∏ —Ç—Ä–∞—Ç—ã –æ–±–µ–∑—å—è–Ω–æ–∫

| –ú–µ—Ö–∞–Ω–∏–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|---|---|
| –°—Ç–∞–≤–∫–∏ –≤ –∏–≥—Ä–∞—Ö | –°–ø–∏–Ω—ã, —Å—Ç–∞–≤–∫–∏ –≤ –ø–æ–∫–µ—Ä | ‚úÖ |
| –ö–æ—Å–º–µ—Ç–∏–∫–∞ / –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è | –°–∫–∏–Ω—ã, –∞–≤–∞—Ç–∞—Ä–∫–∏, —Ä–∞–º–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è | üí° |
| VIP-—Å—Ç–æ–ª—ã | –î–æ—Å—Ç—É–ø –∫ —Å—Ç–æ–ª–∞–º —Å –≤—ã—Å–æ–∫–∏–º–∏ —Å—Ç–∞–≤–∫–∞–º–∏ | üí° |
| –ú–∞–≥–∞–∑–∏–Ω | –ü–æ–∫—É–ø–∫–∞ –Ω–∞–≥—Ä–∞–¥ / —ç–º–æ–¥–∑–∏ –∑–∞ –æ–±–µ–∑—å—è–Ω–∫–∏ | üí° |

### –ü–æ–∫–µ—Ä: –∫–æ–º–Ω–∞—Ç—ã –Ω–∞ –æ–±–µ–∑—å—è–Ω–∫–∏

- –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∫–æ–º–Ω–∞—Ç—ã –¥–æ—Å—Ç—É–ø–µ–Ω —Ä–µ–∂–∏–º `Monkeys ‚Üí chips` (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –æ–±—ã—á–Ω–æ–º—É —Ä–µ–∂–∏–º—É `Chips only`)
- –ö—É—Ä—Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π: `1 üêµ = 10 chips`
- –í—Ö–æ–¥ –≤ —Ç–∞–∫—É—é –∫–æ–º–Ω–∞—Ç—É: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π buy-in, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–≤–µ–Ω `startChips / 10`
- `startChips` –≤ monkey-—Ä–µ–∂–∏–º–µ —Å–µ—Ä–≤–µ—Ä–æ–º –ø—Ä–∏–≤–æ–¥–∏—Ç—Å—è –∫ –∫—Ä–∞—Ç–Ω–æ–º—É 10, —á—Ç–æ–±—ã –∫—É—Ä—Å –≤—Å–µ–≥–¥–∞ –±—ã–ª —Ç–æ—á–Ω—ã–º
- –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –∫–æ–º–Ω–∞—Ç—ã –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —Ñ–∏—à–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ –≤ –æ–±–µ–∑—å—è–Ω–∫–∏ –ø–æ —Ç–æ–º—É –∂–µ –∫—É—Ä—Å—É
- –°–º–µ–Ω–∞ –≤–∞–ª—é—Ç–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–Ω–∞—Ç—ã –∑–∞–ø—Ä–µ—â–µ–Ω–∞ (—É—Å–ª–æ–≤–∏—è –∏–≥—Ä—ã —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏)

## –ü—Ä–∏–Ω—Ü–∏–ø—ã —ç–∫–æ–Ω–æ–º–∏–∫–∏

1. **–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π –ø—Ä–∏—Ç–æ–∫** ‚Äî —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–Ω–µ–≤–Ω–æ–π –±–æ–Ω—É—Å, RTP < 100%
2. **–ú–æ—Ç–∏–≤–∞—Ü–∏—è –≤–æ–∑–≤—Ä–∞—Ç–∞** ‚Äî –±–æ–Ω—É—Å –ø–æ –∫–Ω–æ–ø–∫–µ, streak-–±–æ–Ω—É—Å—ã
3. **–û—â—É—â–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞** ‚Äî –±–∞–ª–∞–Ω—Å —Ä–∞—Å—Ç—ë—Ç, –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
4. **–ê–∑–∞—Ä—Ç –±–µ–∑ —Ä–∏—Å–∫–∞** ‚Äî –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –≤–∞–ª—é—Ç–∞, –Ω—É–ª–µ–≤—ã–µ —Ä–µ–∞–ª—å–Ω—ã–µ —Å—Ç–∞–≤–∫–∏
5. **–ë–∞–ª–∞–Ω—Å sink/faucet** ‚Äî –ø—Ä–∏—Ç–æ–∫ (–±–æ–Ω—É—Å—ã) ‚âà –æ—Ç—Ç–æ–∫—É (RTP –∫–∞–∑–∏–Ω–æ) –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

## –ü—Ä–∞–≤–∏–ª–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∫–∞–∑–∏–Ω–æ

### UI/UX
- –¢—ë–º–Ω–∞—è —Ç–µ–º–∞ —Å —è—Ä–∫–∏–º–∏ –∞–∫—Ü–µ–Ω—Ç–∞–º–∏ (–≥—Ä–∞–¥–∏–µ–Ω—Ç—ã –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö –∏–≥—Ä)
- –ë–∞–ª–∞–Ω—Å –≤—Å–µ–≥–¥–∞ –≤–∏–¥–∏–º–æ —Å–≤–µ—Ä—Ö—É —ç–∫—Ä–∞–Ω–∞
- –ö–Ω–æ–ø–∫–∞ –¥–Ω–µ–≤–Ω–æ–≥–æ –±–æ–Ω—É—Å–∞ ‚Äî –∑–∞–º–µ—Ç–Ω–∞—è, –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è, —Å –æ–±—Ä–∞—Ç–Ω—ã–º –æ—Ç—Å—á—ë—Ç–æ–º
- –ö–∞—Ä—Ç–æ—á–∫–∏ –∏–≥—Ä ‚Äî 2 –∫–æ–ª–æ–Ω–∫–∏, —è—Ä–∫–∏–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã, —ç–º–æ–¥–∑–∏, –∞–Ω–∏–º–∞—Ü–∏—è —Å–≤–µ—á–µ–Ω–∏—è
- –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ –∏–≥—Ä—ã ‚Äî –∑–∞—Ç–µ–º–Ω–µ–Ω—ã, —Å –ª–µ–π–±–ª–æ–º "–°–∫–æ—Ä–æ"

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ –∫–∞—Ä—Ç–æ—á–µ–∫
| –ò–≥—Ä–∞ | –ì—Ä–∞–¥–∏–µ–Ω—Ç |
|---|---|
| –û–¥–Ω–æ—Ä—É–∫–∏–π –±–∞–Ω–¥–∏—Ç | purple ‚Üí pink ‚Üí red |
| –ü–æ–∫–µ—Ä | emerald ‚Üí green ‚Üí teal |
| –ú–æ–Ω–µ—Ç–∫–∞ | yellow ‚Üí amber ‚Üí orange |
| –†—É–ª–µ—Ç–∫–∞ | red ‚Üí red ‚Üí rose |
| –°–ª–æ—Ç—ã 5√ó5 | blue ‚Üí indigo ‚Üí violet |
| –†–∞–∫–µ—Ç–∫–∞ | orange ‚Üí red ‚Üí rose |
| –°–∫–∞—á–∫–∏ | green ‚Üí emerald ‚Üí lime |

### –ê–Ω–∏–º–∞—Ü–∏–∏
- Shimmer-—ç—Ñ—Ñ–µ–∫—Ç –Ω–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–∫–∞—Ö (–º–µ–¥–ª–µ–Ω–Ω–æ–µ –≤—Ä–∞—â–µ–Ω–∏–µ —Å–≤–µ—Ç–∞)
- –ü—É–ª—å—Å–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏ –¥–Ω–µ–≤–Ω–æ–≥–æ –±–æ–Ω—É—Å–∞
- Scale-—ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏
- –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Ö–∞–±–æ–º –∏ –∏–≥—Ä–æ–π
- –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –±–æ–Ω—É—Å–∞ –∏ –∫—Ä—É–ø–Ω—ã—Ö –≤—ã–∏–≥—Ä—ã—à–∞—Ö

### –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å layout –∫–Ω–æ–ø–æ–∫
–í—Å–µ –∏–≥—Ä–æ–≤—ã–µ —ç–∫—Ä–∞–Ω—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π `min-height` –¥–ª—è –∑–æ–Ω—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (–≤—ã–∏–≥—Ä—ã—à/–ø—Ä–æ–∏–≥—Ä—ã—à). –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–¥–≤–∏–≥ –∫–Ω–æ–ø–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏/–∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ `AnimatePresence`. –ö–Ω–æ–ø–∫–∏ –≤—Å–µ–≥–¥–∞ –æ—Å—Ç–∞—é—Ç—Å—è –Ω–∞ –æ–¥–Ω–æ–º –∏ —Ç–æ–º –∂–µ –º–µ—Å—Ç–µ.

### –ù–∞–≤–∏–≥–∞—Ü–∏—è
- `/casino` ‚Äî —Ö–∞–± —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –∏–≥—Ä, –±–∞–ª–∞–Ω—Å–æ–º, –±–æ–Ω—É—Å–æ–º
- –ö–ª–∏–∫ –ø–æ "–û–¥–Ω–æ—Ä—É–∫–∏–π –±–∞–Ω–¥–∏—Ç" ‚Üí –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç
- –ö–ª–∏–∫ –ø–æ "–ü–æ–∫–µ—Ä" ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `/poker`
- –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" –≤ –∫–∞–∂–¥–æ–π –∏–≥—Ä–µ ‚Üí –≤–æ–∑–≤—Ä–∞—Ç –≤ —Ö–∞–±

## –ú–µ—Ç—Ä–∏–∫–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

–ú–µ—Ç—Ä–∏–∫–∏ –∫–∞–∑–∏–Ω–æ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ **Prometheus** (MetricsEngine) ‚Äî –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø–æ–∫–µ—Ä—É –∏ —á–∞—Ç-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ.

### Prometheus-—Å—á—ë—Ç—á–∏–∫–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –õ–µ–π–±–ª—ã | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|---|
| `casino_games_total` | `user_id`, `user_name`, `game`, `result` | result: `win` / `loss` |
| `casino_monkeys_won_total` | `user_id`, `user_name`, `game` | —Å—É–º–º–∞ –≤—ã–∏–≥—Ä—ã—à–µ–π |
| `casino_monkeys_bet_total` | `user_id`, `user_name`, `game` | —Å—É–º–º–∞ —Å—Ç–∞–≤–æ–∫ |
| `casino_bonus_total` | `user_id`, `user_name` | —Å—É–º–º–∞ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –±–æ–Ω—É—Å–æ–≤ |

`game` ‚àà `{slots, coinflip, roulette, slots5x5, rocket, race}`

### API

–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑—É—é—Ç—Å—è —á–µ—Ä–µ–∑ HTTP-only cookie `casino_sid`, –∫–æ—Ç–æ—Ä–∞—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–µ—Å—Å–∏–∏. `user_id` –Ω–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ URL.

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|---|
| `POST` | `/api/casino/session` | –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏: –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `initData` (Telegram WebApp), –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç HMAC, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{monkeys, lastBonusClaim, token}`, —Å—Ç–∞–≤–∏—Ç cookie |
| `GET` | `/api/casino/balance` | –ë–∞–ª–∞–Ω—Å –∏ `lastBonusClaim` –∏–∑ –ë–î |
| `POST` | `/api/casino/event` | –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞—É–Ω–¥–∞: `{game, bet, win, token}` ‚Üí –≤–∞–ª–∏–¥–∞—Ü–∏—è –ª–∏–º–∏—Ç–æ–≤ ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –≤ –ë–î + `metrics.inc()` |
| `POST` | `/api/casino/bonus` | –ë–æ–Ω—É—Å ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫—É–ª–¥–∞—É–Ω 24—á, –æ–±–Ω–æ–≤–ª—è–µ—Ç –±–∞–ª–∞–Ω—Å/–≤—Ä–µ–º—è –≤ –ë–î + `metrics.inc()` |
| `GET` | `/api/casino/stats` | –°–≤–æ–¥–∫–∞ –ø–æ Prometheus: `{gamesWon, gamesLost, won, bet, bonus, games[]}` |

### –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î

| –ü–æ–ª–µ `User` | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|---|
| `monkeys` | `int` | –¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å –æ–±–µ–∑—å—è–Ω–æ–∫ (default: 100) |
| `casino_last_bonus` | `float` | Unix-timestamp –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –±–æ–Ω—É—Å–∞ |

–ë–∞–ª–∞–Ω—Å –≤–∏–¥–µ–Ω –≤ –∫–æ–º–∞–Ω–¥–µ `/me` –±–æ—Ç–∞.

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

1. –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ ‚Üí `POST /api/casino/session` —Å `initData` ‚Üí –ø–æ–ª—É—á–∞–µ—Ç –±–∞–ª–∞–Ω—Å, token, cookie
2. –§—Ä–æ–Ω—Ç–µ–Ω–¥: –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏ —Ä–∞—É–Ω–¥–∞ ‚Üí `POST /api/casino/event` —Å `{game, bet, win, token}`
3. –ë—ç–∫–µ–Ω–¥: –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç token/–ª–∏–º–∏—Ç—ã/cooldown, –æ–±–Ω–æ–≤–ª—è–µ—Ç `user.monkeys` –≤ –ë–î, –≤—ã–∑—ã–≤–∞–µ—Ç `metrics.inc()`
4. –§—Ä–æ–Ω—Ç–µ–Ω–¥: –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –≤ —Ö–∞–± ‚Üí `GET /api/casino/stats`
5. –ë—ç–∫–µ–Ω–¥: PromQL-–∑–∞–ø—Ä–æ—Å—ã –∫ Prometheus ‚Üí JSON-–æ—Ç–≤–µ—Ç

### UI

- –ë–ª–æ–∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ —Ö–∞–±–µ –∫–∞–∑–∏–Ω–æ –º–µ–∂–¥—É –±–æ–Ω—É—Å–æ–º –∏ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –∏–≥—Ä
- –°–∫—Ä—ã—Ç, –µ—Å–ª–∏ –µ—â—ë –Ω–∏ –æ–¥–Ω–æ–π –∏–≥—Ä—ã –Ω–µ —Å—ã–≥—Ä–∞–Ω–æ
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî –∫–æ–º–ø–∞–∫—Ç–Ω–∞—è —Å–≤–æ–¥–∫–∞ (3 —è—á–µ–π–∫–∏: –ò–≥—Ä, –í—ã–∏–≥—Ä–∞–Ω–æ, –ù–µ—Ç—Ç–æ)
- –ö–Ω–æ–ø–∫–∞ ¬´–ü–æ–¥—Ä–æ–±–Ω–µ–µ ‚ñº¬ª —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É: –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–æ, –±–æ–Ω—É—Å, –≤–∏–Ω—Ä–µ–π—Ç, —Ä–∞–∑–±–∏–≤–∫–∞ –ø–æ –∏–≥—Ä–∞–º
- –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ: –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ç—ë–º–Ω—ã–π —Ñ–æ–Ω, —Å—Ç–∏–ª—å –∫–∞–∫ —É PokerStatsBlock

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∞–Ω—Ç–∏—á–∏—Ç

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–µ—Å—Å–∏–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---|---|
| –ú–µ—Ç–æ–¥ | Telegram WebApp `initData` ‚Üí HMAC-SHA256 –≤–∞–ª–∏–¥–∞—Ü–∏—è |
| –ö–ª—é—á HMAC | `HMAC(SHA256, "WebAppData", BOT_TOKEN)` |
| –°–µ—Å—Å–∏—è | HTTP-only cookie `casino_sid` (Secure, SameSite=Lax, path=/api/casino) |
| TTL —Å–µ—Å—Å–∏–∏ | 24 —á–∞—Å–∞ (`CASINO_SESSION_TTL = 86400`) |
| CSRF-—Ç–æ–∫–µ–Ω | –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π `token` (secrets.token_urlsafe) –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –∫–∞–∂–¥—ã–π `/api/casino/event` |

### –°–µ—Ä–≤–µ—Ä–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞—É–Ω–¥–æ–≤

| –ü—Ä–æ–≤–µ—Ä–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|
| Rate-limit | –ú–∏–Ω–∏–º—É–º 1.5 —Å–µ–∫ –º–µ–∂–¥—É —Å–ø–∏–Ω–∞–º–∏ (`CASINO_SPIN_COOLDOWN`) ‚Äî HTTP 429 –ø—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–∏ |
| Max bet | –õ–∏–º–∏—Ç —Å—Ç–∞–≤–∫–∏ –ø–æ –∏–≥—Ä–∞–º: slots=10, coinflip=50, roulette=50, slots5x5=10, rocket=50 |
| Max win | –õ–∏–º–∏—Ç –≤—ã–∏–≥—Ä—ã—à–∞ –ø–æ –∏–≥—Ä–∞–º: slots=1500, coinflip=95, roulette=1800, slots5x5=5000, rocket=5000 |
| –ë–∞–ª–∞–Ω—Å | –°–µ—Ä–≤–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `bet <= user.monkeys` –ø–µ—Ä–µ–¥ —Å–ø–∏—Å–∞–Ω–∏–µ–º |
| Token | –°–µ—Å—Å–∏–æ–Ω–Ω—ã–π token —Å–≤–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º event-–∑–∞–ø—Ä–æ—Å–µ |
| Game ID | –¢–æ–ª—å–∫–æ `{slots, coinflip, roulette, slots5x5, rocket}` –¥–ª—è event; race —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã |

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª

–ù–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `crypto.getRandomValues()` (Web Crypto API) –≤–º–µ—Å—Ç–æ `Math.random()` –¥–ª—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –∫ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—é.

```js
function secureRandom() {
  const buf = new Uint32Array(1)
  crypto.getRandomValues(buf)
  return buf[0] / 0x100000000
}
```

## –ó–≤—É–∫–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞

–í—Å–µ –∑–≤—É–∫–∏ –∫–∞–∑–∏–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ —á–µ—Ä–µ–∑ **Web Audio API** ‚Äî –±–µ–∑ –∞—É–¥–∏–æ—Ñ–∞–π–ª–æ–≤.

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- –ï–¥–∏–Ω—ã–π `AudioContext` (lazy-init –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏)
- Warm-up –ø—Ä–∏ –ø–µ—Ä–≤–æ–º `pointerdown` –¥–ª—è –æ–±—Ö–æ–¥–∞ autoplay-–ø–æ–ª–∏—Ç–∏–∫–∏ –±—Ä–∞—É–∑–µ—Ä–æ–≤
- Reverb —á–µ—Ä–µ–∑ –∫–æ–Ω–≤–æ–ª—å–≤–µ—Ä —Å –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–º IR-–±—É—Ñ–µ—Ä–æ–º (–∫–µ—à–∏—Ä—É–µ—Ç—Å—è)
- Mute/unmute —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ `localStorage` (`casino_muted`)

### –ó–≤—É–∫–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è

| –ó–≤—É–∫ | –ö–æ–≥–¥–∞ –∏–≥—Ä–∞–µ—Ç |
|---|---|
| `spin` | –ù–∞—á–∞–ª–æ –≤—Ä–∞—â–µ–Ω–∏—è –±–∞—Ä–∞–±–∞–Ω–æ–≤ (sweep + noise + kick) |
| `reelStop` | –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–∞–∂–¥–æ–≥–æ –±–∞—Ä–∞–±–∞–Ω–∞ (kick + tones) |
| `win` | –û–±—ã—á–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à (–≤–æ—Å—Ö–æ–¥—è—â–∞—è –º–µ–ª–æ–¥–∏—è + –∞–∫–∫–æ—Ä–¥ + reverb) |
| `bigWin` | –ö—Ä—É–ø–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à (—Ñ–∞–Ω—Ñ–∞—Ä–∞ + –¥–≤–æ–π–Ω–æ–π kick + sparkle-tones) |
| `lose` | –ü—Ä–æ–∏–≥—Ä—ã—à (–Ω–∏—Å—Ö–æ–¥—è—â–∞—è –º–µ–ª–æ–¥–∏—è) |
| `coinFlip` | –ü–æ–¥–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ –º–æ–Ω–µ—Ç–∫–∏ (—Å–µ—Ä–∏—è –≤—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω—ã—Ö —Ç–æ–Ω–æ–≤ —Å –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ–º) |
| `coinLand` | –ü—Ä–∏–∑–µ–º–ª–µ–Ω–∏–µ –º–æ–Ω–µ—Ç–∫–∏ (kick + –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–µ –æ–±–µ—Ä—Ç–æ–Ω—ã) |
| `rouletteSpin` | –í—Ä–∞—â–µ–Ω–∏–µ —Ä—É–ª–µ—Ç–∫–∏ (sweep + noise + —Ä–∏—Ç–º–∏—á–Ω—ã–µ –∫–ª–∏–∫–∏) |
| `rouletteBall` | –®–∞—Ä–∏–∫ –ø–∞–¥–∞–µ—Ç –≤ —è—á–µ–π–∫—É (kick + –Ω–∏—Å—Ö–æ–¥—è—â–∏–µ —Ç–æ–Ω—ã) |
| `bonus` | –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–Ω–µ–≤–Ω–æ–≥–æ –±–æ–Ω—É—Å–∞ (—Ñ–∞–Ω—Ñ–∞—Ä–∞ + –∞–∫–∫–æ—Ä–¥—ã + sparkle) |
| `tick` | –í—ã–±–æ—Ä —Å—Ç–∞–≤–∫–∏ –≤ —Ä—É–ª–µ—Ç–∫–µ / —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ —Å—Ç–∞–≤–∫–∏ –≤ —Ä–∞–∫–µ—Ç–∫–µ (–∫–æ—Ä–æ—Ç–∫–∏–π –∫–ª–∏–∫) |
| `rocketLaunch` | –ó–∞–ø—É—Å–∫ —Ä–∞–∫–µ—Ç—ã (rumble + whoosh + rising tones) |
| `rocketCrash` | –í–∑—Ä—ã–≤ —Ä–∞–∫–µ—Ç—ã (kicks + noise + descending sweeps) |

### –≠—Ñ—Ñ–µ–∫—Ç—ã

- **Reverb**: –∫–æ–Ω–≤–æ–ª—å–≤–µ—Ä —Å decay 0.8‚Äì2.5 —Å–µ–∫ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞ –∑–≤—É–∫–∞)
- **Dry/Wet mix**: 70% dry, 35% wet
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: `tone()`, `sweep()`, `noise()`, `chord()`, `kick()` ‚Äî –∫–æ–º–±–∏–Ω–∏—Ä—É—é—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–≤—É–∫–æ–≤